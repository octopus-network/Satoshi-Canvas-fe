# Pixel Land 前端外包项目需求与招标文档（RFP）

本文件用于征集供应商/开发者的实施方案与报价，用于评估并选择合作方。项目假设为从零开始实施，仅含前端交付（可与后端并行对接）。

---

## 1. 项目概述

- 项目名称：Pixel Land（像素画布互动应用）
- 项目目标：提供一个可多人参与的在线像素画布，支持用户在画布上选色、绘制、导入图像参考、购买像素、展示参与者与排名，并接入加密钱包完成授权与支付。
- 目标平台：Web（PC 优先，移动端适配为加分项）
- 交付时间：预计 6–8 周（以里程碑划分）；外包方可提供更优排期与资源配置建议。

## 2. 业务范围（Scope）

- 必做范围（必须纳入报价）
  - 前端应用从零搭建与上线部署（含基础工程化、UI 框架、状态管理、路由、国际化、错误边界、loading/skeleton）。
  - 像素画布互动能力：选色、绘制（点/拖拽）、撤销/重做、缩放/平移、画布信息展示（坐标、颜色、价格等）。
  - 购买像素流程：与后端约定 API，集成钱包授权/签名/支付发起，交易状态与错误反馈。
  - 用户信息展示：参与者列表、排行榜、个人钱包信息区块。
  - 国际化（中英至少 2 种语言，运行时切换）。
  - 性能优化与基础监控（见 §7-§8）。
- 可选范围（请单列报价）
  - 图像导入辅助上色（参考层显示/像素化预览/阈值调节）。
  - PWA 支持、离线缓存策略。
  - SSR/SEO 优化。
  - 多链/多钱包适配与风控策略。

## 3. 功能清单（最低要求）

- 画布（Pixel Canvas）
  - 画布尺寸与坐标系渲染；缩放/平移（手势与鼠标）；吸附/网格对齐。
  - 取色器/HSV 选择器；最近/常用色；当前像素信息提示。
  - 绘制与撤销/重做；操作节流与批量提交（降低 API 压力）。
  - 购买态提示：选中待购像素、价格区间、支付/授权按钮与进度反馈。
- 工具栏与信息区
  - 工具选择（画笔、橡皮、取色、移动等）；画布信息（尺寸、缩放、FPS）；帮助与快捷键。
- 导入参考图（可选）
  - 上传/粘贴参考图，控制透明度、位置与像素化预览。
- 钱包与购买流程
  - 钱包连接/断开；授权/签名弹窗指引；交易进行中与成功/失败状态处理；错误码与重试策略。
- 用户与排行
  - 参与者列表（头像、地址、贡献像素数等）；排行榜（按贡献度/花费等维度）。
- 国际化
  - 至少中英文；文案集中管理；默认语言自动识别与持久化。
- 通用
  - 响应式布局（≥1440 宽桌面优先，≥375 宽手机适配为加分项）。
  - 全局错误边界与空状态；全局与局部 loading；可访问性（基本聚焦与键盘可达）。

## 4. 技术栈与工程要求（可替代但需说明理由）

- 技术栈建议
  - 框架：React + TypeScript + Vite
  - UI：Tailwind CSS + Radix/shadcn/ui 或等价组件库
  - 状态管理：Zustand 或 Redux Toolkit
  - 国际化：i18next/react-i18next
  - 网络：fetch/axios + 统一请求封装与错误处理
  - 画布：HTML5 Canvas（必要时离屏 Canvas / Web Worker）
  - 打包：代码分割，按路由与功能分包
- 工程化
  - 严格的 TypeScript 类型；ESLint + Prettier；Git 分支与提交规范；
  - 环境配置分离（.env.*）；脚本一键本地运行/构建/预览；
  - 资源与路由按需加载；图片与图标优化（SVG 优先）。

## 5. API 与数据协议（示例，最终以后端对齐为准）

- 身份/钱包
  - POST /api/wallet/nonce → GET 签名用随机串
  - POST /api/wallet/verify { address, signature } → 登录/绑定
- 画布数据
  - GET /api/canvas/summary → 尺寸、价格规则、已占用统计
  - GET /api/canvas/chunk?x=..&y=..&w=..&h=.. → 分片像素数据
  - POST /api/canvas/draw { operations: PixelOp[] } → 批量绘制
- 购买与结算
  - POST /api/purchase/quote { pixels } → 返回价格明细与有效期
  - POST /api/purchase/commit { quoteId, proof } → 发起购买
- 排行与参与者
  - GET /api/participants → 列表与分页
  - GET /api/ranking?metric=contribution → 排行榜

示例：购买报价响应（仅示意）

```json
{
  "quoteId": "q_abc123",
  "total": 123.45,
  "currency": "USDT",
  "breakdown": [
    { "x": 10, "y": 20, "price": 0.1 },
    { "x": 11, "y": 20, "price": 0.12 }
  ],
  "expiresAt": 1712345678900
}
```

## 6. 设计与交互

- 由甲方提供完整设计稿（Figma/Sketch），包含组件规范、色板、动效稿与响应式适配方案。
- 若无设计稿，乙方需补齐基础 UI 规范与视觉方案（请单列报价）。
- 动效：过渡/悬停/弹窗/画布交互反馈；避免重负载下卡顿。

## 7. 性能指标（最低门槛）

- 首屏（核心页面）
  - 可交互时间（TTI）≤ 2.5s（桌面网络 10Mbps，i5 等级设备）；
  - 首屏 JS 体积 ≤ 300KB gzip（不含三方钱包 SDK）。
- 画布交互
  - 在 512×512 画布、常规缩放/拖拽与点绘场景下，FPS ≥ 55；
  - 批量绘制/撤销操作响应 ≤ 100ms（UI 反馈），后台提交可异步。
- 资源加载
  - 按需与懒加载，长任务切分；错误重试与降级策略完善。

## 8. 安全与合规

- 输入校验、防注入与 XSS；CSP 配置；依赖库审计与锁定；
- 钱包授权最小化原则；签名与交易状态校验；
- 接口频率限制与防刷策略（前端侧节流与幂等 ID）；
- 隐私：不收集不必要个人信息；日志匿名化；
- 监控：前端埋点、错误与性能上报（如 Sentry/可替代）。

## 9. 质量保障（QA）

- 单元/组件测试：关键逻辑覆盖率 ≥ 60%（工具建议 Vitest + Testing Library）。
- E2E：至少 6 条核心用户链路（连接钱包、选色绘制、购买、撤销、排行查看、语言切换），CI 可执行（建议 Playwright）。
- 人测清单与回归用例；无高优先级缺陷方可进入验收。

## 10. 交付物

- 完整源码（Git 仓库，带提交历史）；
- README 与使用手册（本地、测试、生产环境启动与部署说明）；
- 环境与密钥模板（.env.example）；
- 构建与部署脚本（含 CI 配置示例）；
- 接口文档（OpenAPI/Markdown）与错误码约定；
- 测试报告（覆盖率、E2E 运行截图/视频）；
- 性能与监控配置说明；
- 版权与第三方依赖清单（含许可）。

## 11. 里程碑与进度（示例，可优化）

- M0（第 1 周）：启动与方案评审、需求澄清、原型/设计对齐、计划冻结。
- M1（第 2–3 周）：工程框架、路由/状态/国际化、基础 UI、钱包连接最小链路。
- M2（第 4–5 周）：画布核心交互、分片渲染、批量绘制、撤销/重做、性能优化一轮。
- M3（第 6 周）：购买/报价/提交完整链路、错误处理、参与者与排行模块、国际化完善。
- M4（第 7–8 周）：测试/修复、性能与无障碍优化、打包上线、文档与交接。

建议付款节奏：30%（M0/M1）/ 40%（M2/M3）/ 30%（M4 验收）。

## 12. 验收标准（抽测清单）

- 功能：功能清单全部可用，无 P0/P1 缺陷，P2 缺陷≤3 且有修复计划。
- 性能：满足 §7 指标；Lighthouse Performance ≥ 85（桌面）。
- 体验：国际化文案完整；错误/空状态与加载反馈完善；
- 安全：关键路径安全检查通过；依赖无高危漏洞（Snyk/NPM Audit）。
- 文档：交付物完整可复现，从零环境可一键启动构建并预览。

## 13. 角色与沟通

- 人员：前端负责人 1 名（必需），可配合后端与设计；
- 周期：每周至少 1 次例会；每日异步进度更新；
- 工具：Issue 看板（Jira/GitHub Projects/Trello）、代码评审（PR 必须）。

## 14. 风险与假设

- 假设：后端 API 在 M2 前提供联调环境与稳定接口；
- 风险：设计延迟、需求变更、三方钱包/支付 SDK 不稳定；
- 变更处理：范围外需求通过 CR（Change Request）评估与报价，按人天结算。

## 15. 报价与计价方式

- 固定价（推荐）：按“必做范围”整体打包报价，含 2–3 轮修订与缺陷修复。
  - 参考市场价（单人）：¥80,000 – ¥100,000；区间外请给出差异说明。
- 人天/人月：中高级建议 ¥2,000 – ¥3,000/人天 或 ¥35,000 – ¥65,000/人月。
- 可选项与增值项需单列报价。
- 开票与税费：如需专票，按实际税点上浮（常见 3%–6% + 服务费）。

报价清单模板（示例）：

| 项目 | 数量 | 单价（¥） | 小计（¥） | 备注 |
| --- | ---: | ---: | ---: | --- |
| 必做范围固定价 | 1 | - | 90,000 | 含 2–3 轮修订 |
| 图像导入（可选） | 1 | - | 8,000 | 像素化预览与对齐 |
| SSR/SEO（可选） | 1 | - | 10,000 | Next.js 或等价方案 |
| PWA（可选） | 1 | - | 6,000 | 离线缓存与安装 |
| 其他增值项 | - | - | - | 供应商自填 |
| 合计 | - | - | 114,000 | 税费与发票另计 |

## 16. 供应商应答要求（提交材料）

- 公司/团队介绍与核心成员简历（相关项目经验与职责）。
- 相似项目链接与代码片段/GitHub（如涉及保密，可做脱敏说明）。
- 技术方案与实施计划（里程碑、关键技术要点、性能与安全方案）。
- 风险识别与缓解预案；交付质量保障与测试策略。
- 详细报价与付款计划；发票类型与税率说明。
- 项目排期与资源投入承诺；服务与售后支持范围。

## 17. 法务与知识产权

- 代码与成果物著作权归甲方所有，乙方确保无第三方侵权风险；
- 保密协议（NDA）必须签署；
- 违约与延期条款（含误工、质量不达标的赔付方式）。

## 18. 验收清单（交付时逐项核对）

- [ ] 源码仓库、提交记录、CI 配置与脚本
- [ ] 环境配置与部署说明（含 .env.example）
- [ ] 功能清单覆盖与无高优先级缺陷
- [ ] 性能与监控达标
- [ ] 单元/端到端测试报告
- [ ] 接口与错误码文档
- [ ] 使用手册与运维手册

---

如需我们提供更精细的接口协议、设计规范或性能测试基线，请在应答中明确所需资料清单与时间节点，我们将配合提供以便贵方完善报价与排期。
